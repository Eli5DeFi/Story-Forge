# Multi-Chain L2 Deployment Configuration
# Copy to .env and update with your values

# ============ DEPLOYMENT CONFIGURATION ============
TARGET_CHAIN=base  # Options: megaeth, hyperevm, arbitrum, optimism, base, all
PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000000

# ============ MEGAETH CONFIGURATION ============
# Note: MegaETH is not yet live - values are placeholders
MEGAETH_RPC_URL=https://rpc.megaeth.io
MEGAETH_CHAIN_ID=424242
MEGAETH_TREASURY=0x1234567890123456789012345678901234567890
MEGAETH_PRICE_ORACLE=0x0000000000000000000000000000000000000000
MEGAETH_MAX_POOL_SIZE=10000000000000  # 10M USDC (6 decimals)
MEGAETH_EXPLORER_API_KEY=your_megaeth_explorer_key
# Bridge configuration (will be available when MegaETH launches)
MEGAETH_LAYERZERO_ENDPOINT=0x0000000000000000000000000000000000000000
MEGAETH_HYPERLANE_MAILBOX=0x0000000000000000000000000000000000000000

# ============ HYPEREVM CONFIGURATION ============
# Note: HyperEVM is not yet live - values are placeholders
HYPEREVM_RPC_URL=https://rpc.hyperevm.xyz
HYPEREVM_CHAIN_ID=555555
HYPEREVM_TREASURY=0x1234567890123456789012345678901234567890
HYPEREVM_PRICE_ORACLE=0x0000000000000000000000000000000000000000
HYPEREVM_MAX_POOL_SIZE=5000000000000  # 5M USDC (6 decimals)
HYPEREVM_EXPLORER_API_KEY=your_hyperevm_explorer_key
# Bridge configuration (primary focus on Hyperlane)
HYPEREVM_LAYERZERO_ENDPOINT=0x0000000000000000000000000000000000000000
HYPEREVM_HYPERLANE_MAILBOX=0x0000000000000000000000000000000000000000

# ============ ARBITRUM ONE CONFIGURATION ============
ARBITRUM_RPC_URL=https://arb1.arbitrum.io/rpc
ARBITRUM_ALCHEMY_KEY=your_alchemy_key_here  # Optional: https://arb-mainnet.g.alchemy.com/v2/
ARBITRUM_INFURA_KEY=your_infura_key_here    # Optional: https://arbitrum-mainnet.infura.io/v3/
ARBITRUM_CHAIN_ID=42161
ARBITRUM_TREASURY=0x1234567890123456789012345678901234567890  # TODO: Replace with multisig
ARBITRUM_PRICE_ORACLE=0x639Fe6ab55C921f74e7fac1ee960C0B6293ba612  # ETH/USD Chainlink
ARBITRUM_USDC=0xA0b86a33E6417c1dc4b1b8e8c37DF5D9c0b9a3eB  # USDC on Arbitrum
ARBITRUM_MAX_POOL_SIZE=2000000000000  # 2M USDC (6 decimals)
ARBITRUM_ETHERSCAN_API_KEY=your_arbiscan_api_key
# Bridge configuration
ARBITRUM_LAYERZERO_ENDPOINT=0x3c2269811836af69497E5F486A85D7316753cf62
ARBITRUM_HYPERLANE_MAILBOX=0x979Ca5202784112f4738403dBec5D0F3B9daabB9
ARBITRUM_BRIDGE=0x8315177aB297bA92A06054cE80a67Ed4DBd7ed3a  # Arbitrum canonical bridge

# ============ OPTIMISM CONFIGURATION ============
OPTIMISM_RPC_URL=https://mainnet.optimism.io
OPTIMISM_ALCHEMY_KEY=your_alchemy_key_here  # Optional: https://opt-mainnet.g.alchemy.com/v2/
OPTIMISM_INFURA_KEY=your_infura_key_here    # Optional: https://optimism-mainnet.infura.io/v3/
OPTIMISM_CHAIN_ID=10
OPTIMISM_TREASURY=0x1234567890123456789012345678901234567890  # TODO: Replace with multisig
OPTIMISM_PRICE_ORACLE=0x13e3Ee699D1909E989722E753853AE30b17e08c5  # ETH/USD Chainlink
OPTIMISM_USDC=0x0b2C639c533813f4Aa9D7837CAf62653d097Ff85  # USDC on Optimism
OPTIMISM_MAX_POOL_SIZE=3000000000000  # 3M USDC (6 decimals)
OPTIMISM_ETHERSCAN_API_KEY=your_optimism_etherscan_api_key
# Bridge configuration
OPTIMISM_LAYERZERO_ENDPOINT=0x3c2269811836af69497E5F486A85D7316753cf62
OPTIMISM_HYPERLANE_MAILBOX=0xd4C1905BB1D26BC93DAC913e13CaCC278CdCC80D
OPTIMISM_BRIDGE=0x25ace71c97B33Cc4729CF772ae268934F7ab5fA1  # Optimism canonical bridge

# ============ BASE CONFIGURATION ============
BASE_RPC_URL=https://mainnet.base.org
BASE_ALCHEMY_KEY=your_alchemy_key_here      # Optional: https://base-mainnet.g.alchemy.com/v2/
BASE_COINBASE_KEY=your_coinbase_key_here    # Optional: https://api.developer.coinbase.com/rpc/v1/base/
BASE_CHAIN_ID=8453
BASE_TREASURY=0x1234567890123456789012345678901234567890  # TODO: Replace with multisig
BASE_PRICE_ORACLE=0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70  # ETH/USD Chainlink
BASE_USDC=0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913  # USDC on Base
BASE_MAX_POOL_SIZE=5000000000000  # 5M USDC (6 decimals) - Primary chain
BASE_ETHERSCAN_API_KEY=your_basescan_api_key
# Bridge configuration
BASE_LAYERZERO_ENDPOINT=0xb6319cC6c8c27A8F5dAF0dD3DF91EA35C4720dd7
BASE_HYPERLANE_MAILBOX=0xeA87ae93Fa0019a82A727bfd3eBd1cFCa8f64f1D
BASE_BRIDGE=0x49048044D57e1C92A77f79988d21Fa8fAF74E97e  # Base canonical bridge

# ============ TESTNET CONFIGURATIONS ============
# Arbitrum Sepolia
ARBITRUM_SEPOLIA_RPC_URL=https://sepolia-rollup.arbitrum.io/rpc
ARBITRUM_SEPOLIA_CHAIN_ID=421614
ARBITRUM_SEPOLIA_TREASURY=0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266  # Test treasury
ARBITRUM_SEPOLIA_ETHERSCAN_API_KEY=your_arbiscan_api_key

# Optimism Sepolia
OPTIMISM_SEPOLIA_RPC_URL=https://sepolia.optimism.io
OPTIMISM_SEPOLIA_CHAIN_ID=11155420
OPTIMISM_SEPOLIA_TREASURY=0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266  # Test treasury
OPTIMISM_SEPOLIA_ETHERSCAN_API_KEY=your_optimism_etherscan_api_key

# Base Sepolia
BASE_SEPOLIA_RPC_URL=https://sepolia.base.org
BASE_SEPOLIA_CHAIN_ID=84532
BASE_SEPOLIA_TREASURY=0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266  # Test treasury
BASE_SEPOLIA_ETHERSCAN_API_KEY=your_basescan_api_key

# ============ CROSS-CHAIN BRIDGE SETTINGS ============
BRIDGE_VALIDATOR_THRESHOLD=3  # Minimum validators required for bridge consensus
BRIDGE_CONFIRMATION_BLOCKS=12  # Block confirmations needed
BRIDGE_FEE_BPS=50  # 0.5% bridge fee in basis points
BRIDGE_COOLDOWN=300  # 5 minutes cooldown between bridges

# Daily bridge limits (in wei - 18 decimals for STORY token)
BRIDGE_DAILY_LIMIT_MEGAETH=1000000000000000000000000  # 1M STORY
BRIDGE_DAILY_LIMIT_HYPEREVM=500000000000000000000000   # 500K STORY  
BRIDGE_DAILY_LIMIT_ARBITRUM=2000000000000000000000000  # 2M STORY
BRIDGE_DAILY_LIMIT_OPTIMISM=1500000000000000000000000  # 1.5M STORY
BRIDGE_DAILY_LIMIT_BASE=3000000000000000000000000      # 3M STORY

# ============ SECURITY SETTINGS ============
DEPLOYMENT_DELAY=86400  # 24 hours delay for production deployments
EMERGENCY_MULTISIG=0x1234567890123456789012345678901234567890  # Emergency coordinator multisig
VALIDATOR_MULTISIG=0x5678901234567890123456789012345678901234  # Bridge validator multisig

# Rate limiting for deployment (prevents spam)
MAX_DEPLOYMENTS_PER_DAY=10
MIN_DEPLOYMENT_FEE=0.001  # ETH - minimum fee to deploy

# ============ MONITORING & ALERTS ============
# Optional: Configure monitoring services
DATADOG_API_KEY=your_datadog_key
GRAFANA_API_KEY=your_grafana_key
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/webhook/url
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_telegram_chat_id

# Health check endpoints (for monitoring service availability)
HEALTH_CHECK_INTERVAL=300  # 5 minutes
ORACLE_STALENESS_THRESHOLD=3600  # 1 hour
BRIDGE_HEALTH_CHECK_AMOUNT=1000000000000000000  # 1 STORY for testing

# ============ DEVELOPMENT & TESTING ============
# Fork testing (for local development)
FORK_BLOCK_NUMBER=latest  # Or specific block number
FORK_ARCHIVE_RPC=true  # Use archive node for historical data

# Gas optimization
GAS_PRICE_MULTIPLIER=1.1  # 10% gas price increase for faster confirmation
MAX_GAS_PRICE_GWEI=50     # Maximum gas price in gwei

# Contract verification
AUTO_VERIFY=true  # Automatically verify contracts on deployment
VERIFICATION_DELAY=30  # Seconds to wait before verification

# ============ ADVANCED CONFIGURATION ============
# LayerZero specific settings
LAYERZERO_RELAYER_THRESHOLD=1  # Minimum relayer confirmations
LAYERZERO_ORACLE_THRESHOLD=1   # Minimum oracle confirmations
LAYERZERO_GAS_LIMIT=200000     # Gas limit for cross-chain messages

# Hyperlane specific settings
HYPERLANE_TIMEOUT=600          # 10 minutes timeout for cross-chain messages
HYPERLANE_GAS_PAYMENT=0.001    # ETH payment for message gas

# Protocol-specific optimizations
ENABLE_BATCH_TRANSACTIONS=true  # Batch multiple operations
BATCH_SIZE_LIMIT=50            # Maximum operations per batch
ENABLE_GAS_OPTIMIZATION=true   # Enable gas optimization features

# ============ FEATURE FLAGS ============
ENABLE_MEGAETH=false          # Enable MegaETH when ready
ENABLE_HYPEREVM=false         # Enable HyperEVM when ready
ENABLE_CROSS_CHAIN_STAKING=true   # Cross-chain staking features
ENABLE_CROSS_CHAIN_NFT=true       # Cross-chain NFT transfers
ENABLE_UNIFIED_LIQUIDITY=true     # Unified liquidity pools
ENABLE_EMERGENCY_MODE=false       # Emergency mode (disables non-essential features)

# ============ EXAMPLE USAGE ============
# Deploy to single chain:
# TARGET_CHAIN=arbitrum forge script script/DeployMultiChain.s.sol --broadcast --verify

# Deploy to all active chains:
# TARGET_CHAIN=all forge script script/DeployMultiChain.s.sol --broadcast --verify

# Deploy with custom configuration:
# TARGET_CHAIN=base MAX_POOL_SIZE=10000000000000 forge script script/DeployMultiChain.s.sol --broadcast

# Test cross-chain bridge:
# forge script DeployMultiChain.s.sol --sig "testCrossChainBridge(string,string,uint256)" "arbitrum" "optimism" 1000000000000000000000

# ============ SECURITY CHECKLIST ============
# Before deploying to mainnet:
# 1. Verify all treasury addresses are multisigs
# 2. Test bridge functionality on testnets
# 3. Confirm oracle addresses are correct
# 4. Set appropriate rate limits
# 5. Configure emergency procedures
# 6. Set up monitoring and alerts
# 7. Verify contract addresses in frontend
# 8. Test cross-chain functionality end-to-end